"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2752],{26586:(t,e,_)=>{_.d(e,{C4:()=>s,Jy:()=>n,mk:()=>a,ue:()=>f,wF:()=>l,zL:()=>p});var o=_(56031);function l(t){return o.ts.GET("/auth/history",{params:t})}function f(t){return o.ts.POST("/auth/socket",{body:t})}function n(t){return o.ts.POST("/tourists/".concat(t),{})}function p(t){return o.ts.POST("/auth/binding-user-button",{body:t})}function s(t){return o.ts.GET("/auth/user-game-button",{params:t})}function a(t){return o.ts.POST("/auth/button",{body:t})}},49952:(t,e,_)=>{_.d(e,{Gj:()=>p,f8:()=>u,hI:()=>d,gT:()=>m,Mp:()=>g,NI:()=>h});var o=_(33489),l=_(55247),f=_(94907),n=_(64510);function p(){let t=(0,f.useRef)(null),e=(0,o.A)(t),_=(0,l.useAtomValue)(n.Gl),p=(0,f.useMemo)(()=>{if(t.current)if(!_.horizontal||_.mobile)return{width:"100%",height:"100%"};else{let t=(null==e?void 0:e.height)||0,_=(null==e?void 0:e.width)||0,o=(_-t)/2;return{width:"".concat(t,"px"),height:"".concat(_,"px"),transform:"rotate(-90deg) translate(".concat(o,"px, ").concat(o,"px)")}}},[e,_]),s=(0,f.useMemo)(()=>{if(t.current)if(!_.horizontal||!_.mobile)return{width:"100%",height:"100%"};else{let t=(null==e?void 0:e.height)||0,_=(null==e?void 0:e.width)||0,o=(t-_)/2;return{width:"".concat(t,"px"),height:"".concat(_,"px"),transform:"rotate(90deg) translate(".concat(o,"px, ").concat(o,"px)")}}},[e,_]),a=(0,f.useMemo)(()=>{if(t.current&&e)return 9/16>e.width/e.height?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}},[e]);return{viewportRef:t,videoStyle:p,panelStyle:s,controlAreaStyle:a}}var s=_(2285);let a={"com.moonactive.coinmaster":{},"jp.konami.pesam":{azvor8___wasd:{left:75.95,top:638.27,size:144},ezWMGf___o:{left:794.79,top:697.04},Tr5TmY___p:{left:896.28,top:651.3},iIiv6L___l:{left:906.82,top:842.18},pvu7KX___k:{left:785.44,top:860.84}},"com.roblox.client":{uqYqkF___wasd:{left:16.93,top:678.41,size:144},lEr2Tm___space:{left:880.93,top:820.04}},"com.kiloo.subwaysurf":{P4SSwB___1:{left:44.35,top:624.42},"0Lcirx___2":{left:33.19,top:780.01},cfS5R6___wasd:{left:322.29,top:410.11,size:81},sYr7sX___q:{left:0,top:14.71}},"com.miHoYo.GenshinImpact":{m77878___wasd:{left:57,top:586,size:150},f7WYxl___j:{left:23.47,top:206.79},"7u930G___m":{left:91.43,top:105.55},wJGTnZ___c:{left:940.62,top:26},UGBqet___b:{left:881.25,top:26},H08Xfx___e:{left:713.34,top:832.01},E7PlFj___q:{left:628.86,top:873.64},SXxfvW___f:{left:518.25,top:476.39},otgaM9___r:{left:680.47,top:719.44},fsqkCr___escape:{left:21.84,top:33.33},oIL8Qp___space:{left:906.14,top:637.45},dXh2YN___enter:{left:26.55,top:890.28},"9VC4St___shift":{left:906.99,top:833.27},Jy5cKQ___1:{left:939.06,top:188.9},CHOtHx___2:{left:939.06,top:295.77},Ny3OFw___3:{left:939.06,top:398.6}},"com.MOBGames.PoppyMobileChap2":{"6oZIwu___wasd":{left:42.95,top:610.87,size:144},kVK5Fo___space:{left:483.93,top:805.38},"RCpMl0___`":{left:66.51,top:107.77},hq4pJR___q:{left:599.46,top:736.3},sYoTHH___e:{left:816.94,top:721.88}},"com.supercell.brawlstars":{gOgcjp___wasd:{left:53.74,top:603.97,size:160},GHuwDo___q:{left:660.53,top:680.42},R3dqM6___space:{left:822.74,top:566.34},Qc7gEJ___r:{left:760.74,top:837.51},GNUDHS___shift:{left:571.48,top:830.63}},"com.innersloth.spacemafia":{"8QBfgB___wasd":{left:0,top:701.26,size:144},Km0aQJ___e:{left:898.6,top:829.84}},"com.robtopx.geometryjump":{},"com.supercell.clashofclans":{Q4hUea___wasd:{left:434.66,top:410.15,size:131},jGeC1e___j:{left:669.11,top:569.76}},"com.supercell.hayday":{},"com.tepaylink.kiemhieptinh2mobile":{K5qqGF___wasd:{left:56.15,top:642.46,size:144},w386kI___m:{left:865.93,top:199.17},"gTiTYO___`":{left:15.17,top:12.45},qSWCVK___4:{left:710.7,top:568.49},twj4FJ___f:{left:798.24,top:568.46},gYerDE___1:{left:891.6,top:551.87},"3sycaB___3":{left:682.71,top:682.57},rGI2kJ___r:{left:770.23,top:688.8},ciU03W___q:{left:858.95,top:690.87},"9TyBuD___2":{left:749.21,top:805.01},zKx5xL___e:{left:829.73,top:804.94},ZsFv3a___tab:{left:913.78,top:792.53},Ts4B2y___z:{left:721.22,top:921.16},bLxP8u___x:{left:794.76,top:923.24},lzDqSo___c:{left:857.78,top:914.9},zUCP6p___v:{left:932.45,top:914.94},b7dtT1___ab:{left:825.09,top:356.84}},"com.kurogame.wutheringwaves.global":{n2vVD1___wasd:{left:73.62,top:605.04,size:130.6892523364486},FqoGrm___space:{left:862.42,top:653.53},GkyM5T___shift:{left:857.76,top:815.35},Ng61vp___e:{left:776.05,top:748.24},utNgNd___1:{left:885.75,top:269.71},FaPyop___i:{left:155.21,top:33.2},JpjlXO___v:{left:13.99,top:188.8},"8SvkZt___q":{left:625.52,top:757.24},zVLdnS___m:{left:71.19,top:93.34},UMgAJ2___y:{left:243.91,top:877.59},wzSWH0___2:{left:888.51,top:396.42},cy9040___f:{left:689.94,top:844.32},holndX___r:{left:685,top:670.02}},"com.nexon.baram":{UlhEej___wasd:{left:41.99,top:592.71,size:81}},"com.LIFULSE.DOSA":{OVduRy___wasd:{left:57.31,top:596.82,size:144},zozoes___q:{left:750.4,top:852.7},JXR0WT___e:{left:876.44,top:778.01},Xksjv7___f:{left:755.07,top:682.57},yZv8Th___r:{left:834.43,top:564.32},bKmbuM___z:{left:920.79,top:551.87}},"com.supercell.squad":{"9t2D3s___wasd":{left:78.32,top:478.53,size:192},JF2z4g___p:{left:805.26,top:599.56}},"com.YostarJP.BlueArchive":{k5TEqm___q:{left:673.41,top:842.28},rbDNpW___w:{left:758.59,top:842.3},qO5OWG___e:{left:842.61,top:842.29},cMt8zX___x:{left:917.27,top:809.13},QwrTiF___z:{left:925.44,top:904.56}},"com.ordtw.gpgat":{KsmCQ3___wasd:{left:89.99,top:566.08,size:144},fD2uH1___tab:{left:87.5,top:263.88}},"com.ncsoft.lineagem19":{UmNVOG___wasd:{left:68.96,top:650.7,size:144},HzvC2h___1:{left:358.24,top:842.29},KpWZSW___2:{left:411.93,top:842.3},NEVXQn___3:{left:471.46,top:844.4},dpqO54___4:{left:532.14,top:844.4},DURxaw___5:{left:589.32,top:842.3},IyYCiB___z:{left:702.55,top:844.4},ithZYt___x:{left:765.57,top:844.4},zJNe3V___c:{left:821.59,top:852.7},Doc0w1___v:{left:875.27,top:848.55},cjjKMY___space:{left:833.26,top:682.48},lV4c5G___r:{left:802.92,top:522.81},"8Qcsjf___f":{left:886.94,top:545.64},l0a3M1___e:{left:728.23,top:672.2},gSUKPA___tab:{left:36.16,top:273.86}},"com.gamania.lineagem":{UmNVOG___wasd:{left:68.96,top:650.7,size:144},HzvC2h___1:{left:358.24,top:842.29},KpWZSW___2:{left:411.93,top:842.3},NEVXQn___3:{left:471.46,top:844.4},dpqO54___4:{left:532.14,top:844.4},DURxaw___5:{left:589.32,top:842.3},IyYCiB___z:{left:702.55,top:844.4},ithZYt___x:{left:765.57,top:844.4},zJNe3V___c:{left:821.59,top:852.7},Doc0w1___v:{left:875.27,top:848.55},cjjKMY___space:{left:833.26,top:682.48},lV4c5G___r:{left:802.92,top:522.81},"8Qcsjf___f":{left:886.94,top:545.64},l0a3M1___e:{left:728.23,top:672.2},gSUKPA___tab:{left:36.16,top:273.86}},"com.estgames.cm.tha":{s8OBnV___wasd:{left:40.94,top:592.72,size:144},FstD3V___h:{left:297.18,top:704.64},R2OIU2___1:{left:242.97,top:836.07},WEHIu1___2:{left:302.32,top:836.07},"4et4bT___3":{left:364.04,top:834.72},BVQoRA___4:{left:426.56,top:831.94},"798hAr___5":{left:485.17,top:833.31},"8ZuTOW___shift":{left:713.27,top:701.38},FyRtbf___e:{left:814.06,top:649.98},"2Bv6zJ___f":{left:669.6,top:572.15},rSzgLg___b:{left:882.02,top:477.78},h7VszU___q:{left:909.11,top:636.86},ickAmY___6:{left:544.96,top:831.9},"5bd9I5___7":{left:610.36,top:838.14},ewqFyp___8:{left:671.04,top:833.96},MtB8qK___tab:{left:46.67,top:344.37}},"com.ea.gp.maddennfl21mobile":{Np4mhO___wasd:{left:87.65,top:667.3,size:144},mxgI2i___space:{left:805.24,top:771.76},BXpAC1___r:{left:898.6,top:437.75},O3HKL3___f:{left:899.77,top:605.72}},"com.olzhas.carparking.multyplayer":{cmluPg___w:{left:896.27,top:784.21},RLB6mA___pace:{left:762.09,top:873.25},"6FpQ35___a":{left:81.67,top:665.97},ZfJu0D___d:{left:221.71,top:663.95},krwhAW___f:{left:766.82,top:738.72},"6LapyO___r":{left:589.3,top:881.68},uMwwxG___e:{left:186.73,top:904.53},cR8T02___q:{left:107.37,top:902.45},iIueQc___c:{left:130.71,top:85.06},MhcUcL___tab:{left:645.37,top:871.37}},"com.kakaogames.gdts":{ilKJqo___wasd:{left:61.99,top:588.44,size:144},CUUDvs___e:{left:720.06,top:771.78},LJf9DG___space:{left:881.11,top:775.93},unCAkm___f:{left:769.06,top:593.35},NePmqt___q:{left:871.77,top:510.38}},"com.dvloper.granny":{"1s6wmS___f":{left:882.28,top:103.73},XcNqQ2___e:{left:856.61,top:311.19},ZZpQei___wasd:{left:83,top:609.21,size:144},dAnmSi___c:{left:68.85,top:192.95}},"com.ea.gp.fifamobile":{dumZV6___wasd:{left:80.64,top:551.17,size:144},gSn8vY___shift:{left:857.78,top:819.48},"5D08mr___e":{left:864.76,top:547.71},tOvCtc___f:{left:744.58,top:614.11},DfnfhG___r:{left:706.04,top:831.92}},"vn.pg1.vltk1m":{RnArKi___wasd:{left:79.52,top:669.43,size:144},rNvpYd___e:{left:854.27,top:724.02},nptsei___h:{left:923.14,top:556.06},"9FuEQ5___q":{left:820.42,top:543.57},"1syZp1___r":{left:741.05,top:653.49},hrAYAu___f:{left:750.37,top:813.3},gD37ZR___space:{left:671.04,top:734.44},Bj9sTd___1:{left:937.13,top:823.65}},"com.dts.freefireth":{TGNJGc___wasd:{left:79.69,top:602.49,size:131},"8uqmv9___h":{left:209.83,top:858.13},U8ARYr___b:{left:32.19,top:860.38},"5faUi6___e":{left:803.2,top:645.31},"3HPNrE___q":{left:930.65,top:491.96},Q2BfFQ___1:{left:814.81,top:173.89},CRwZ7d___space:{left:931.95,top:661.32},"1tAMwo___c":{left:928.07,top:858.09},RLPAgB___alt:{left:845.71,top:860.41},ZBjp6t___v:{left:714.43,top:720.79},mzR5dE___g:{left:653.88,top:867.24},ZHmG0O___m:{left:64.36,top:116.7},IbI2rg___shift:{left:133.87,top:425.61}},"com.FDGEntertainment.redball4.gp":{sWcYDm___wasd:{left:86.11,top:700.23,size:131},mchxbA___space:{left:885.6,top:791.73}},"com.devsisters.cba":{A91L0U___wasd:{left:113.31,top:553.27,size:130.6892523364486},NNAbQn___k:{left:840.55,top:755.15},AECc3T___space:{left:725.99,top:780.32},psTMA0___o:{left:781.34,top:569.8},DGLSMx___p:{left:901.04,top:562.94},NDua6Q___2:{left:931.91,top:263.16},"4nnVjO___1":{left:935.78,top:148.71},JiCiqB___q:{left:863.72,top:256.29},l2RuzE___e:{left:854.71,top:148.74},aer3ZS___3:{left:940.95,top:373},S3U2MG___f:{left:867.58,top:377.57}},"com.com2us.smon.normal.freefull.google.kr.android.common":{VWCKCW___1:{left:725.99,top:871.85},"8NxYEl___2":{left:830.23,top:874.14},CrarQa___3:{left:917.78,top:878.72}},"com.pearlabyss.blackdesertm.gl":{Cvg70D___wasd:{left:83.54,top:575.03,size:131},epeXrw___space:{left:872.71,top:759.74},uc9qhO___e:{left:803.2,top:858.02},Lm6Rz0___c:{left:785.2,top:608.62},"5xdvv8___q":{left:787.77,top:711.67},vNGCsC___r:{left:848.27,top:622.43},tnTCQz___f:{left:926.78,top:636.16},fXE07A___m:{left:81.09,top:112.13},FRIyPI___tab:{left:908.75,top:199.05},S8wlwt___1:{left:602.42,top:871.82},vfYOzc___2:{left:651.29,top:876.39},BP822s___3:{left:698.93,top:881.01},otxdje___i:{left:346.26,top:885.58},vfLHQz___v:{left:481.39,top:377.54}},"com.YoStar.AetherGazer":{MEooxT___wasd:{left:78.4,top:593.39,size:131},suePAU___space:{left:898.44,top:716.15},gs0Wg4___shift:{left:755.59,top:803.21},Qse9FI___q:{left:906.21,top:457.66},ZVBsJr___r:{left:810.9,top:501.13},Av8hHT___e:{left:768.43,top:633.83},"0ZiPRs___f":{left:701.54,top:491.97},K8q5pS___1:{left:926.77,top:121.28},OrZy9N___2:{left:926.79,top:276.89},jMcuaq___c:{left:684.73,top:697.87}},"com.garena.game.bc":{"9IgEXe___wasd":{left:57.8,top:659.72,size:131}},"zombie.survival.craft.z":{I7ekKL___wasd:{left:39.78,top:629.96,size:131},Pj34ev___tab:{left:3.86,top:890.16},"989Ee4___b":{left:746.59,top:878.72},PNapQP___c:{left:940.94,top:899.32},ASPpJB___e:{left:898.48,top:697.9},g7Lbyl___f:{left:818.66,top:846.71},"64hoH9___shift":{left:697.66,top:883.32}},"com.mobile.legends":{FWY4Df___wasd:{left:11.79,top:598.86,size:144},BpkK3u___i:{left:902.12,top:809.13},s5WnI0___e:{left:741.03,top:833.99},tetVVp___r:{left:799.42,top:647.3},"6v6Ch9___t":{left:896.28,top:541.49}},"com.kitkagames.fallbuddies":{EZoLrg___wasd:{left:94.6,top:636.21,size:144},Om1afa___space:{left:848.45,top:726.12}},"com.tencent.ig":{Z2LyTf___e:{left:827.67,top:704.81},vMjOn5___c:{left:818.67,top:887.89},ieuK0k___alt:{left:901.05,top:885.58},uwGKaD___space:{left:937.1,top:645.27},yWBGhd___f:{left:638.44,top:652.19},QxemGb___wasd:{left:69.4,top:595.66,size:131},"3c0Ed7___b":{left:47.63,top:871.85},r2amaC___1:{left:414.46,top:858.09},f5y4eb___2:{left:526.47,top:860.41},jGcouM___h:{left:283.19,top:890.16},b0CvlL___shift:{left:778.77,top:176.18},nsbivo___g:{left:664.2,top:887.87}},"com.gameloft.android.ANMP.GloftA9HM":{WdRmU5___space:{left:863.71,top:807.74},"7zjouV___d":{left:769.74,top:542.31},dyNzLO___a:{left:167.33,top:533.23},QPJGdP___shift:{left:87.53,top:549.2}},"com.ninjamuffin99.funkin":{U0yJAF___w:{left:816.07,top:453.09},"0f5o0T___a":{left:723.35,top:606.41},q3ni8K___d:{left:920.31,top:597.22},P2P4lT___s:{left:825.06,top:752.82}},"com.play.rosea":{Nh9PLt___space:{left:888.15,top:800.92},QJ5gmx___1:{left:935.81,top:681.94},nVuUt6___c:{left:809.65,top:890.16},pV9UUq___q:{left:742.72,top:860.41},HOjYpG___e:{left:764.61,top:716.2},BfnHzw___r:{left:830.23,top:604.05},bEksTz___f:{left:912.61,top:556.07},pCgh61___b:{left:868.87,top:327.24},KRnP3E___wasd:{left:78.4,top:645.98,size:131},NzqfRX___tab:{left:92.68,top:283.76}},"com.gravity.romg":{ecyN7v___wasd:{left:95.11,top:494.96,size:131},qBPDsm___space:{left:611.41,top:885.56},hU3a6i___q:{left:677.07,top:878.67},MVHE4c___e:{left:741.42,top:878.68},uUIIeU___r:{left:810.91,top:878.71},Qwl4hc___f:{left:874.03,top:883.29},XmuGMV___c:{left:938.36,top:878.68},le8Ajz___b:{left:740.13,top:52.63},"7OfVLH___tab":{left:853.4,top:356.94},KTsFu4___v:{left:939.67,top:672.74},GpDINw___1:{left:939.66,top:762.01}},"com.gameloft.android.ANMP.GloftA8HM":{hFlJET___space:{left:740.16,top:796.32},"4jXKhc___a":{left:113.27,top:789.47},HzNR7a___d:{left:256.15,top:789.47},HSXZ3c___shift:{left:870.15,top:787.19}},"com.ea.game.nfs14_row":{"9d30TP___f":{left:895.91,top:743.71},Jjf7Jc___d:{left:877.88,top:425.59},pGbA07___a:{left:90.09,top:414.17}},"com.fingersoft.hillclimb":{tt50PT___space:{left:82.41,top:752.88},Vr2bhy___w:{left:859.84,top:766.55}},"com.HoYoverse.Nap":{JtwEAj___wasd:{left:89.99,top:629.96,size:130.6892523364486},VdVrhL___q:{left:858.9,top:547.7},"9NnMZ0___e":{left:706.01,top:846.44},xswabZ___shift:{left:856.56,top:842.25},wjaO8s___f:{left:856.58,top:690.83},L1xjXj___space:{left:779.57,top:761.3}},"com.global.rov":{hwULC0___g:{left:206.43,top:655.44},SCXKUK___1:{left:309.59,top:738.47},NVerQh___2:{left:460.86,top:740.65},qRVcA2___3:{left:615.9,top:738.53},hNabug___z:{left:870.45,top:663.9},"1ZuhKw___b":{left:866.76,top:591.29},Ddi7JF___m:{left:844.51,top:51.72},oL2u3I___c:{left:3.69,top:60.16},URS6V0___wasd:{left:399.78,top:530.31,size:81}},"com.kurogame.gplay.punishing.grayraven.en":{bRGLzI___wasd:{left:56,top:584,size:178},ePs8nV___space:{left:904.28,top:844.18},ikMepb___shift:{left:799.42,top:848.51},AnZOgM___r:{left:694.37,top:846.47},nlRA2S___1:{left:927.76,top:674.2},tWEUZo___2:{left:837.87,top:676.24},"1rvgEN___3":{left:756.19,top:670.09},fP8Gwf___4:{left:674.52,top:674.2},y0EQsN___5:{left:589.3,top:676.24},K6mUCh___z:{left:508.79,top:674.2},poWmQ8___x:{left:422.45,top:670.09},SqNpsw___c:{left:338.4,top:674.2},ilq7c8___t:{left:837.81,top:491.67},JEp2mG___g:{left:926.78,top:462.25},hlrOSy___q:{left:924.28,top:192.9},bWFe9r___e:{left:925.4,top:327.77}},"com.ld.trssjhw":{r5uUem___wasd:{left:80.66,top:582.97,size:144},GS8tNn___j:{left:847.26,top:724.07},Rn46C2___y:{left:730.56,top:858.92},"0RAzwl___u":{left:724.73,top:724.07},BFIv62___i:{left:766.74,top:601.66},IkrhYZ___o:{left:837.93,top:518.67},CkezeB___p:{left:927.79,top:526.97},BRLLUd___space:{left:826.26,top:875.49},diI68D___b:{left:865.94,top:273.86},QHPxYo___m:{left:914.93,top:85.06},Ku99mw___g:{left:192.54,top:163.86},hbiKai___c:{left:17.48,top:55.96},TTg8YD___f:{left:575.32,top:458.46},"3Z8KEo___k":{left:654.7,top:879.6},Ns9SYq___1:{left:743.36,top:402.49},FEa6dF___2:{left:804.07,top:408.72},ifg7DK___3:{left:864.73,top:408.68},"4ZKmuU___l":{left:575.3,top:879.61},BQEVgG___e:{left:703.67,top:549.73},ZHwPom___r:{left:650,top:757.15},"82fVZR___h":{left:648.87,top:638.95}},"com.vectorunit.purple.googleplay":{se5nhj___a:{left:47.62,top:853.51},KZWkPY___d:{left:181.51,top:855.85},d2LqJM___o:{left:38.59,top:212.81},IqXbHL___k:{left:912.59,top:215.11},cPPo5E___space:{left:906.19,top:878.72}},"bevung.roadrash.roadrush":{"2Unmy9___w":{left:72.06,top:583.49},oZSThF___a:{left:778.73,top:761.98},xyPnzr___d:{left:884.26,top:773.43},QPIHLR___k:{left:772.33,top:599.54},hp7y6t___o:{left:876.56,top:590.39}},"com.studiowildcard.wardrumstudios.ark":{qme6Nc___wasd:{left:137.7,top:407.72,size:148},XYOl2o___space:{left:530.66,top:440.38},"2RD7vu___f":{left:913.63,top:822.21},GCa2kG___b:{left:18.15,top:30.26}},"com.silkroad.mb":{"3fEM0y___wasd":{left:84.08,top:568.45,size:144},Mr2k68___e:{left:849.61,top:678.41},sX0hH5___b:{left:22.17,top:47.72},ukSTPm___r:{left:913.76,top:846.41},G5uEf5___c:{left:12.84,top:917.01},"9TckoQ___1":{left:701.36,top:804.98},rjiYlG___2:{left:765.57,top:807.06},f6BJ9x___3:{left:821.59,top:809.11},JRJSb9___4:{left:883.45,top:809.13},oKSoOJ___5:{left:945.25,top:809.06},du0pNr___6:{left:699.07,top:917.02},SR3lRd___7:{left:764.4,top:921.13},tzApZo___8:{left:825.05,top:919.09},kcWunN___9:{left:883.4,top:917},uku2kh___0:{left:947.63,top:927.38},"6cZ5O4___q":{left:926.58,top:684.63}},"com.netease.idv.googleplay":{DImIsa___wasd:{left:102.82,top:605.12,size:144},dwm42J___e:{left:883.44,top:800.83},"7kiQLL___q":{left:685.05,top:873.44},Kc4dzb___m:{left:3.5,top:101.66},roXU8V___t:{left:681.53,top:738.52},qXy6Af___r:{left:919.58,top:427.39},BKRjLc___1:{left:763.24,top:877.53},"4Wrvit___2":{left:766.74,top:728.22},"2RQ7VX___3":{left:827.41,top:605.78},"5za3Kc___4":{left:917.29,top:578.84},"aiWAvb___`":{left:933.63,top:64.32}}};var c=_(26586),r=_(81715),i=_(76518);function u(){return{getKeyboardMap:(0,s.yF)(async(t,e)=>{let _,{gameId:o,buttonId:l,uid:f}=t(n.CN),p=t(n.vB),s=t(r.Sp),{uid:u,shortToken:d}=t(r.XM),m=p.id;if(s&&o===m&&f===u&&l)return;if(s){let t=await (0,c.C4)({uid:u,token:d,gameId:m});if(null==t?void 0:t.length){let{configData:o,buttonId:l}=t[0];_=JSON.parse(o),e(n.CN,t=>({...t,buttonId:l,uid:u,gameId:m,token:d}))}}if(!_){let{packageName:t,button:e,screenOrientation:o}=p,l=JSON.stringify(a[t]);_=(0,i.i4)(e||l||"{}",o)}let{control:g}=t(n.Lp);_&&g.updateStatusInfo(t=>({...t,configKeyboard:_}))})}}function d(){let{control:t}=(0,l.useAtomValue)(n.Lp),[e,_]=(0,f.useState)([]);return(0,f.useEffect)(()=>{t.effect(t=>{let{data:e}=t;_(Object.entries(e.interactive).map(t=>{let[e,_]=t;return{id:e,data:_}}))},[i.Kq.KEYBOARD_DATA_UPDATE])},[]),{keyboardKeys:e}}function m(){let{keyboardKeys:t}=d();return{hasZoom:(0,f.useMemo)(()=>t.some(t=>t.data.type===i.ee.ZOOM),[t]),hasRotate:(0,f.useMemo)(()=>t.some(t=>t.data.type===i.ee.ROTATION),[t])}}function g(){let{control:t}=(0,l.useAtomValue)(n.Lp),[e,_]=(0,f.useState)({width:0,height:0,left:0,top:0}),o=(0,f.useMemo)(()=>e.width/1e3,[e.width]),p=(0,f.useMemo)(()=>e.height/1e3,[e.height]);return(0,f.useEffect)(()=>{_(t.getVideoRect()),t.effect(t=>{_(t)},[i.Kq.CONTROL_RECT_RESIZE])},[]),{wRatio:o,hRatio:p}}function h(){let t=(0,f.useRef)(new Set),e=(0,f.useRef)({id:"",direction:void 0}),[_,o]=(0,f.useState)(""),{control:p}=(0,l.useAtomValue)(n.Lp),[s,a]=(0,f.useState)(void 0),[c,r]=(0,f.useState)(()=>new Set);return(0,f.useEffect)(()=>{p.effect((_,o)=>{let{event:l}=_;if(!e.current.id)return;l.stopPropagation();let f=JSON.stringify({code:l.code,name:l.key.trim()||l.code});if(o===i.Kq.KEYBOARD_UP)return void t.current.delete(f);if(!(t.current.size>2)){t.current.add(f);let _=[],o=[];t.current.forEach(t=>{_.push(JSON.parse(t).code),o.push(JSON.parse(t).name)});let l=p.getSafeInteractiveCode(_,e.current.id,e.current.direction),n=p.getSafeInteractiveName(o,e.current.id,e.current.direction);p.setControlArea({code:l,name:n,direction:e.current.direction},e.current.id)}},[i.Kq.KEYBOARD_DOWN,i.Kq.KEYBOARD_UP],!0),p.effect((t,_)=>{e.current.id||t.uiId.forEach(t=>(_===i.Kq.PRESET_KEYBOARD_DOWN?r(e=>new Set(e).add(t)):r(e=>(e.delete(t),new Set(e))),t))},[i.Kq.PRESET_KEYBOARD_DOWN,i.Kq.PRESET_KEYBOARD_UP],!0)},[]),{editId:_,direction:s,hotKeyIdList:c,triggerSetKey:(t,_)=>{e.current={id:t,direction:_},o(t),a(_),p.updateStatusInfo(e=>({...e,isFreezeControl:!!t}))}}}},61570:(t,e,_)=>{_.d(e,{w:()=>f});var o=_(2285),l=_(64510);function f(){return{updateDowntimeStatus:(0,o.yF)(async(t,e,_)=>{try{let t=await (await fetch("/api/roblox/req-ldrescdn/easyfun/instances-change-event/hosts.json")).json(),{announcement:o,sill:f}=t,n=t.sill>0;return n||null==_||_({announcement:o,waitDowntimeMin:f,isInDowntime:n}),e(l.x4,{announcement:o,waitDowntimeMin:f,isInDowntime:n}),{isInDowntime:n}}catch(t){return console.warn("check server online error"),{isInDowntime:!0}}})}}},82469:(t,e,_)=>{_.d(e,{$t:()=>a,Tx:()=>s,mg:()=>p});var o=_(55247),l=_(94907),f=_(81715),n=_(54644);function p(t){let{id:e,oneTap:_}=t,n=(0,o.useAtomValue)(f.Sp),p=(0,o.useAtomValue)(f.Kz);(0,l.useEffect)(()=>{if(p){var t,o,l,f;e&&(null==(o=window)||null==(t=o.google)||t.accounts.id.renderButton(document.getElementById(e),{theme:"outline",shape:"pill",size:"large",type:"standard",text:"signin_with",width:400})),_&&!n&&(null==(f=window)||null==(l=f.google)||l.accounts.id.prompt())}},[e,p,n,_])}function s(){(0,o.useAtom)(f.b1);let t=(0,o.useAtomValue)(f.Sp),[e,_]=(0,o.useAtom)(f.O1),[l,n]=(0,o.useAtom)(f.XM);return{isLogged:t,userIp:e,setUserIp:_,userInfo:l,setUserInfo:n,logout:function(){n({}),_(void 0)}}}function a(){let[t,e]=(0,o.useAtom)(f.zb),[_,l]=(0,o.useAtom)(f.gA);return{open:function(t){e(!0),l(null!=t?t:n.Pf.UNKNOWN)}}}},92752:(t,e,_)=>{_.d(e,{BW:()=>S,$H:()=>z,F6:()=>E,GT:()=>N,G4:()=>v,FM:()=>b});var o=_(2285),l=_(94907),f=_(26586),n=_(64510),p=_(16983),s=_(82469),a=_(81715),c=_(49952),r=_(61570),i=_(96820),u=_(60574),d=_(97587),m=_(68878),g=_(54644);function h(){let t=(0,u.c3)("cloud-game-area"),{alert:e,close:_}=function(){let t=(0,l.use)(d.C);return{alert:function(e){t.setValue({visible:!0,props:e})},close:function(){t.setValue({visible:!1,props:{closeByMask:!0}})}}}(),{open:f}=(0,s.$t)(),c=(0,o.yF)((e,_,o)=>{let l=e(n.vB),f=e(a.XM),p=e(a.Sp);(0,i.sendGTMEvent)({event:"pop-up",type:o,gameName:null==l?void 0:l.gameName,uid:null==f?void 0:f.uid,isLogged:Number(p)});let s=t.raw("alert".concat(o,"Content")).replace(/\\n/g,"\n");return{title:t("alert".concat(o,"Title"))||"Notification",desc:s,action:t("alert".concat(o,"Btn"))||"Okay",closeByMask:!0}}),r=(0,o.yF)(_=>{if(_(a.Sp))e(c(m.X2.时长已用尽));else{let _=c(m.X2.免费时长用尽);e(Object.assign(_,{desc:_.desc.replace(/\\n/g,"\n"),action:t("login"),actionCb:()=>{f(g.Pf.TIME_EXPIRED_POPUP)}}))}}),h=(0,o.yF)((o,l,s)=>{var r;let i=o(a.Sp),u=c(m.X2.排队信息),d=!i&&t("login"),h=null==(r=u.desc)?void 0:r.replace("RANK","".concat(s));e(Object.assign(u,{desc:i?h:"".concat(h,"\n").concat(t.raw("alert4SignContent")),action:d,closeByMask:!1,cancel:t("alert".concat(m.X2.排队信息,"Btn")),cancelCb:()=>{let{businessWss:t}=o(n.Lp);t.send(p._.CANCEL),_()},actionCb:()=>{f(g.Pf.QUEUE_POPUP_BTN)}}))}),v=(0,o.yF)(t=>{var _;let o=t(n.x4),l=c(m.X2.服务器维护中);e(Object.assign(l,{desc:null==(_=l.desc)?void 0:_.replace("{min}",String(o.waitDowntimeMin))}))}),w=(0,o.yF)(()=>{e(c(m.X2.重复连接))}),y=(0,o.yF)(()=>{e(c(m.X2.重复连接))});return{alert:e,closeAlert:_,generateAlertParams:c,deviceExpiresAlert:r,queueAlert:h,serverInDowntimeAlert:v,duplicateConnectionAlert:w,gameTimeExpiresAlert:y}}function v(){let t=(0,o.yF)((t,e)=>{e(n.n6,m.fJ.加载)}),e=(0,o.yF)((t,e)=>{e(n.n6,m.fJ.游玩)}),_=(0,o.yF)((t,e)=>{e(n.n6,m.fJ.空闲)}),l=(0,o.yF)((t,e)=>{e(n.n6,m.fJ.排队)}),f=(0,o.yF)((t,e,_)=>{e(n.n6,m.fJ.异常),e(n.h1,t=>[...t,{time:Date.now(),status:m.fJ.异常,text:_}])}),p=(0,o.yF)((t,e)=>{e(n.n6,m.fJ.开始)});return{cloudGameStatusAtom:n.n6,setLoadingStatus:t,setPlayingStatus:e,setIdleStatus:_,setQueueStatus:l,setErrorStatus:f,setStartStatus:p}}var w=_(76518),y=_(88821);function b(){let t=(0,u.c3)("cloud-game-area"),e=(0,o.yF)(t=>{let{fullscreen:e}=t(n.Gl);return e?{toasterId:"fullscreen-toaster"}:void 0});return{toastSuccess:t=>{y.o.success(t,e())},toastError:_=>{let o=_&&t.has("wsErrorTips".concat(_))?t("wsErrorTips".concat(_)):void 0;y.o.error(o||t("toastOops")||"Oops! Something went wrong.",e())}}}function E(){let{setIdleStatus:t,setErrorStatus:e}=v(),{toastError:_}=b(),l=(0,o.yF)((e,_)=>{let{rtc:o,wss:l,control:f}=e(n.Lp);l.close(),l.clearEffectList(),o.close(),o.clearEffectList(),f.destroy(),f.clearEffectList(),t(),_(n.X0,{gameId:"",isReconnect:!1,device:{}})}),f=(0,o.yF)((t,e,_)=>{var o;let{wss:f}=t(n.Lp);(null==(o=f.getWSInstance())?void 0:o.readyState)===WebSocket.OPEN&&l();let{deviceId:p,phoneId:s,accessPort:a,publicIp:c,connectStatus:r,gameId:i}=_;e(n.X0,{gameId:String(i),isReconnect:2===r,device:{deviceId:p,phoneId:s,accessPort:a,publicIp:c}})}),s=(0,o.yF)(async t=>{let{wss:e,rtc:_}=t(n.Lp);_.init(),e.hookEvent(w.LJ.RTC_INIT,{});let o=await _.createOffer();console.log("RTC 创建 Offer"),e.send(w.LJ.OFFER,{sdp:o})}),a=(0,o.yF)((t,o)=>{let{wss:f,rtc:a,control:c}=t(n.Lp);f.effect(async t=>{0===t.data.code?(console.log("设备 ws 建连成功 开始 rtc 连接"),s()):(console.log("设备 ws 建连失败"),_(),e("设备 ws 建连失败"),l())},[w._5.JOIN_RES]),f.effect(e=>{let{device:_}=t(n.X0);_.publicIp&&e.data.sdp&&(a.setRemoteDescription(e.data.sdp,{ip:_.publicIp,port:_.accessPort+2}),f.send(w.LJ.FORCEI,{}))},[w._5.ANSWER]),f.effect(t=>{a.addCandidate(t.data.candidate)},[w.LJ.CANDIDATE]),f.effect(e=>{let _=t(n.Gl),l=e.data.rotation>0;_.horizontal!==l&&(o(n.Gl,t=>({...t,horizontal:l})),_.mobile||c.updateStatusInfo(t=>({...t,isHorizontal:l})))},[w._5.JOIN_RES,w._5.NOTIFY]),f.effect(()=>{let{businessWss:e}=t(n.Lp);l(),_(),e.hookEvent(p.o.关闭,{})},[w.LJ.WSS_CLOSE]),a.effect(()=>{let{device:o}=t(n.X0),{businessWss:f}=t(n.Lp);e("RTC 连接异常 deviceId:[".concat(o.deviceId,"]")),l(),_(),f.hookEvent(p.o.关闭,{})},[w.L6.NETWORK_ERROR])}),c=(0,o.yF)(t=>{let{wss:e}=t(n.Lp),{device:_}=t(n.X0),o=t(n.v0),l=t(n.vB),f=(0,w.jU)({uid:o.uid,token:o.token,deviceId:_.deviceId,phoneId:_.phoneId,gameInfo:{minutes:99999,gameId:Number(o.gameId),packageName:l.packageName},ip:""});e.send(w.LJ.JOIN,f)}),r=(0,o.yF)(async t=>{let{wss:e}=t(n.Lp),{device:_}=t(n.X0),o=e.getWSInstance(),l=_.publicIp;if((null==o?void 0:o.url)!==l)null==o||o.close();else if((null==o?void 0:o.readyState)===WebSocket.OPEN)return;e.setParams({url:l}),await e.connect(),console.log("设备 ws 已连接"),a(),c()}),i=(0,o.yF)(()=>{try{return r(),{success:!0}}catch(t){return{success:!1,error:t}}});return{syncConnectInfo:f,initConnection:i,disconnect:l,getRTT:(0,o.yF)(t=>{let e=t(n.Lp);return null==e?void 0:e.rtc.getLastRtt()}),fakeInitConnection:(0,o.yF)(()=>(a(),{success:!0}))}}function S(){let{handleQueueResponse:t,setInQueue:e}=function(){let{closeAlert:t,queueAlert:e}=h(),{setQueueStatus:_}=v(),f=(0,l.useRef)(0),s=(0,l.useRef)(null),c=()=>{s.current&&clearInterval(s.current),s.current=null},r=(0,o.yF)(t=>{if(s.current)return;let{businessWss:e}=t(n.Lp);s.current=setInterval(()=>{e.send(p._.QUEUE)},5e3),e.effect(()=>{c()},[p.o.关闭])}),u=(0,o.yF)((t,e,o)=>{let{queueValue:l}=o.data;console.log("用户进入排队"),t(n.n6)!==m.fJ.排队&&_();let f=t(a.XM),p=t(n.vB);(0,i.sendGTMEvent)({event:"into-queue",rank:l,uid:null==f?void 0:f.uid,gameName:null==p?void 0:p.gameName})}),d=(0,o.yF)((_,o,l)=>{let{queueValue:p}=l.data;if(console.log("当前排队人数：".concat(p)),p<1){let e=_(a.XM),o=_(n.vB);(0,i.sendGTMEvent)({event:"finish-queue",waitTime:Math.floor((new Date-f.current)/1e3),uid:null==e?void 0:e.uid,gameName:null==o?void 0:o.gameName}),t(),c()}else{let{stop:t}=_(n.ii);t(),e(p),r()}}),g=(0,l.useCallback)(t=>t<1,[]),w=(0,l.useCallback)(()=>{f.current=0},[]),y=(0,l.useCallback)(()=>0===f.current?0:Math.floor((new Date-f.current)/1e3),[]);return(0,l.useEffect)(()=>()=>{c()},[]),{setInQueue:u,handleQueueResponse:d,checkQueueStatus:g,resetQueueTime:w,getQueueWaitTime:y}}(),{setIdleStatus:_,setErrorStatus:f}=v(),{syncConnectInfo:s,initConnection:u,disconnect:d}=E(),{updateDowntimeStatus:g}=(0,r.w)(),{toastError:w}=b(),{duplicateConnectionAlert:y,deviceExpiresAlert:S,gameTimeExpiresAlert:I}=h(),{getKeyboardMap:z}=(0,c.f8)(),k=(0,l.useRef)(null),N=(0,l.useRef)(null),O=()=>{k.current&&clearInterval(k.current),k.current=null,N.current&&clearInterval(N.current),N.current=null},L=(0,o.yF)(t=>{if(k.current)return;let{businessWss:e}=t(n.Lp);k.current=setInterval(()=>{var t;(null==(t=e.getWSInstance())?void 0:t.readyState)===WebSocket.OPEN?e.send(p._.PING):O()},3e3)}),R=(0,o.yF)((t,e)=>{let{businessWss:_}=t(n.Lp);_.clearEffectList(),_.close(),e(n.Qp,{gameId:"",businessWssLink:"",isReconnect:!1})}),T=(0,o.yF)((t,e,_)=>{let o=t(n.Qp),l=o.gameId===_.gameId&&o.businessWssLink===_.businessWssLink;l&&console.log("重连 business wss"),e(n.Qp,{gameId:_.gameId,businessWssLink:_.businessWssLink,isReconnect:l})}),F=(0,o.yF)((t,e,o)=>{var l;let{wss:p}=t(n.Lp);if(2===o.connectStatus&&(null==(l=p.getWSInstance())?void 0:l.readyState)===WebSocket.OPEN){console.log("设备重连 并且 设备wss 正在链接中，不需要重连"),e(a.Bp,o.remainingTime);return}o.deviceId&&o.phoneId&&o.accessPort&&o.publicIp?(console.log("同步用户时间"),e(a.Bp,o.remainingTime),console.log("同步设备信息"),s(o),console.log("获取按键信息"),z(),console.log("初始化wss连接"),u()):(console.log("设备信息不完整",{deviceId:o.deviceId,phoneId:o.phoneId,accessPort:o.accessPort,publicIp:o.publicIp}),f("设备信息不完整 deviceId: ".concat(o.deviceId)),_())}),A=(0,o.yF)(async()=>{let{isInDowntime:t}=await g();return t&&!N.current&&(N.current=setInterval(()=>{g(()=>{O(),console.log("服务器维护结束, 重新连接业务ws"),C()})},5e3)),t}),P=(0,o.yF)((_,o)=>{let{businessWss:l}=_(n.Lp);l.effect(()=>{console.log("太多请求"),w(p.o.太多请求)},[p.o.太多请求]),l.effect(()=>{console.log("8001 重复连接"),y(),O(),R(),d()},[p.o.重复连接]),l.effect(_=>{console.log("8002 没有更多设备"),e(_),t(_)},[p.o.没有更多设备]),l.effect(()=>{console.log("8003 长时间没有控制"),w(),O(),R(),d()},[p.o.长时间没有控制]),l.effect(()=>{console.log("8004 连接断开"),w(p.o.连接断开),O(),R(),d()},[p.o.连接断开]),l.effect(()=>{console.log("8005 连接错误"),w(p.o.连接错误),O(),R(),d()},[p.o.连接错误]),l.effect(()=>{console.log("8006 设备过期"),S(),O(),R(),d()},[p.o.设备过期]),l.effect(()=>{console.log("8007/8008/8009 游戏信息异常"),w(p.o.游戏不存在),O(),R(),d()},[p.o.游戏不存在,p.o.游戏ID错误,p.o.游戏ID为空]),l.effect(()=>{console.log("8010/8013/8014 用户信息异常"),w(p.o.用户Token错误),O(),R(),d()},[p.o.用户Token错误,p.o.用户ID错误,p.o.用户Token为空]),l.effect(e=>{t(e)},[p.o.排队信息]),l.effect(()=>{console.log("8012 游戏暂停"),w(p.o.游戏暂停),O(),R(),d()},[p.o.游戏暂停]),l.effect(()=>{console.log("8015 没有更多使用时间"),I(),O(),R(),d()},[p.o.没有更多使用时间]),l.effect(t=>{console.log("8018 添加游戏时间");let{remainingTime:e}=t.data;o(a.Bp,e)},[p.o.添加游戏时间]),l.effect(()=>{},[p.o.心跳]),l.effect(t=>{console.log("8888 设备信息 - 开始连接设备"),F(t.data)},[p.o.设备信息]),l.effect(()=>{console.log("8023 已分配设备并结束排队"),t({data:{queueValue:0}})},[p.o.设备信息,p.o.已分配设备并结束排队]),l.effect(()=>{console.log("886 关闭"),O(),R(),A().then(t=>{t||d()})},[p.o.关闭])}),q=(0,o.yF)(async t=>{let{businessWss:e}=t(n.Lp),{businessWssLink:_}=t(n.Qp),o=e.getWSInstance();if((null==o?void 0:o.url)!==_)e.close();else if((null==o?void 0:o.readyState)===WebSocket.OPEN)return;e.setParams({url:_}),await e.connect(),P(),L()}),C=(0,o.yF)(()=>{try{return q(),{success:!0}}catch(t){return{success:!1,error:t}}}),M=(0,o.yF)(()=>(P(),{success:!0}));return(0,l.useEffect)(()=>()=>{O()},[]),{syncConnectInfo:T,initConnection:C,disconnect:R,fakeInitConnection:M}}var I=_(55247);function z(){let t=(0,I.useAtomValue)(n.n6),e=(0,o.yF)((t,e,_,o)=>{let{rtc:l}=t(n.Lp),{gameName:f}=t(n.vB),{uid:p}=t(n.v0),s=t(a.Sp);(0,i.sendGTMEvent)({event:"game-started",ping:l.getLastRtt(),gameName:f,uid:p,isLogged:s,queueTime:o,timeConsumed:_})}),_=(0,o.yF)((t,e,_,o)=>{let{rtc:l}=t(n.Lp),{gameName:f}=t(n.vB),{uid:p}=t(n.v0),s=t(a.Sp);(0,i.sendGTMEvent)({event:"game-queue",ping:l.getLastRtt(),gameName:f,uid:p,isLogged:s,timeConsumed:_,queueTime:o})}),f=(0,o.yF)((t,e,_,o)=>{let{rtc:l}=t(n.Lp),{gameName:f}=t(n.vB),{uid:p}=t(n.v0),s=t(a.Sp);(0,i.sendGTMEvent)({event:"game-error",ping:l.getLastRtt(),gameName:f,uid:p,isLogged:s,errorTime:_,reportText:o})}),p=(0,o.yF)((t,o)=>{let l=t(n.h1);if(0===l.length)return;let p=0,s=0,a=0,c=0,r=0,i="";l.forEach(t=>{let{time:e,status:_,text:o}=t;_===m.fJ.开始?p=e:_===m.fJ.加载?s=e-p:_===m.fJ.排队?a=e-p:_===m.fJ.游玩?c=e-p:_===m.fJ.异常&&(r=e-p),o&&(i=o)}),console.log("\n      启动时间: ".concat(p,"\n      加载耗时: ").concat(s/1e3,"s\n      排队总耗时: ").concat(a/1e3,"s\n      开始玩总耗时: ").concat(c/1e3,"s\n      连接异常耗时: ").concat(r/1e3,"s\n      上报文案: ").concat(i,"\n    ")),a&&_(c,a),c&&e(c,a),r&&f(r,i),o(n.h1,[])}),s=(0,o.yF)((t,e,_)=>{let o=Date.now();e(n.h1,t=>[...t,{time:o,status:_}]);let l=t(n.h1);_===m.fJ.空闲?l.length>1&&p():_===m.fJ.异常?p():_===m.fJ.游玩&&p()}),c=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{c.current!==t&&(s(t),c.current=t)},[s,t])}var k=_(40480);function N(){let{updateDowntimeStatus:t}=(0,r.w)(),{serverInDowntimeAlert:e}=h(),{authenticateUser:_,handleAuthError:c}=function(){let t=(0,l.useCallback)(async t=>{try{let e=await (0,f.Jy)(t);if(!e)return{success:!1,error:{code:9999,message:"Visitor authentication failed"}};return{success:!0,data:{token:e.token,uid:e.uid,fingerprint:t}}}catch(t){return{success:!1,error:t}}},[]),e=(0,o.yF)(async(e,_)=>{let o=e(n.v0),l=e(a.XM),f=e(n.vB),p=new URL(location.href).searchParams,s=p.get("inv")||"",c=p.get("utm_id")||"";try{let p={...o,gameId:String(f.id),platform:s||c};p.fingerprint||(p.fingerprint=await (0,k.Hd)());let r=e(a.Sp);if(!p.token)if(r)Object.assign(p,{uid:l.uid,token:l.shortToken});else{let e=await t(p.fingerprint);if(!e.success)return e;Object.assign(p,e.data)}return _(n.v0,p),r&&!l.email&&_(a.XM,t=>{var e;let{thirdUserInfos:_,...o}=t;return{...o,email:null==(e=_[0])?void 0:e.thirdEmail}}),{success:!0,data:o}}catch(t){return{success:!1,error:t}}});return{authenticateVisitor:t,authenticateUser:e,handleAuthError:(0,o.yF)((t,e,_)=>{9999===_.code&&e(n.v0,{token:"",uid:"",fingerprint:"",gameId:"",platform:""})})}}(),{establishBusinessConnect:u,handleConnectionError:d}=function(){let{syncConnectInfo:t}=S(),{gameTimeExpiresAlert:e}=h(),{logout:_}=(0,s.Tx)(),{toastError:a}=b(),c=(0,l.useCallback)(async t=>{try{let e=await (0,f.ue)(t);if(!e)return{success:!1,error:{code:401,message:"Failed to get WebSocket link"}};return{success:!0,data:e}}catch(t){return{success:!1,error:t}}},[]),r=(0,o.yF)(async e=>{let _=e(n.v0),o=await c(_);if(o.success){let{id:_}=e(n.vB);t({gameId:String(_),businessWssLink:o.data})}return o});return{getBusinessWssLink:c,establishBusinessConnect:r,handleConnectionError:(0,o.yF)((t,o,l)=>{(null==l?void 0:l.code)===401?(_(),a()):l.code===p.o.没有更多使用时间&&e()})}}(),{setLoadingStatus:g,setStartStatus:w,setPlayingStatus:y}=v(),E=(0,o.yF)(t=>!!t(n.Zm)&&(window.open("https://docs.google.com/document/d/1I0XvarBMceDu_g9p-9whjW67E2cOpoinVq76RYEhkXw/edit"),(0,i.sendGTMEvent)({event:"pop-up",type:99}),!0)),I=(0,o.yF)((t,e)=>{let _=t(a.Sp),{gameType:o,gameName:l}=t(n.vB);(0,i.sendGTMEvent)({event:o===m.Xe.云游?"play-cloud-game":"play-web-game",gameName:l,isLogged:Number(_)}),(0,i.sendGTMEvent)({event:"visitor-play-choose",type:_?m.Kw.登录:m.Kw.游客})}),z=(0,o.yF)((t,e)=>{let{stop:_}=t(n.ii);_(),e(n.o2,0),e(n.n6,m.fJ.空闲)});return{startGame:(0,o.yF)(async o=>{if(E())return;I(),await w();let{gameType:l}=o(n.vB);if(l===m.Xe.页游)return y(),{success:!0,data:{gameType:m.Xe.页游}};g();let{start:f}=o(n.ii);f();let{isInDowntime:p}=await t();if(p)return e(),z(),{success:!1,error:{code:m.X2.服务器维护中,message:"Server is in downtime"}};let s=await _();if(!s.success)return c(s.error),z(),s;let a=await u();return a.success?{success:!0,data:{gameType:m.Xe.云游}}:(d(a.error),z(),a)})}}}}]);